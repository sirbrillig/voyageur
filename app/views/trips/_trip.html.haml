- if @trip
  .summary
    - unless @trip.locations.empty?
      %nav.actions
        =link_to(image_tag('clear_button.png'), clear_trip_path(@trip), :id => "clear_trip")
    %h1 This Trip
    %h1= "#{meters_to_miles @trip.distance} miles total"
  .map
    = render('trips/map')

%ul.trip_locations{class: "trip_id_#{@trip.id}"}
  - if @trip
    %li.distance 
      %h1 Start of the Journey
    - @trip.locations.each_with_index do |loc, index|
      %li.location_block
        .location{class: "location_#{loc.id} trip_location_#{index}"}
          %nav.actions
            = link_to(image_tag('arrow_up.png'), up_trip_path(@trip, index), :id => "move_up")
            = link_to(image_tag('arrow_down.png'), down_trip_path(@trip, index), :id => "move_down")
            = link_to(image_tag('remove.png'), remove_trip_path(@trip, index), :id => "remove_from_trip")
          %h1= loc.title
          %p.address= loc.address
        - unless (index + 1) >= @trip.locations.size
          .distance
            %h1= "#{meters_to_miles loc.distance_to(@trip.locations[index + 1])} miles to"

